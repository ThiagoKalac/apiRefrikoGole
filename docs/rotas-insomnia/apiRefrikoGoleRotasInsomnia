{"_type":"export","__export_format":4,"__export_date":"2024-10-14T20:55:06.753Z","__export_source":"insomnia.desktop.app:v10.0.0","resources":[{"_id":"req_584198f38a234d4db17bc6cda8ade7ba","parentId":"fld_935c150e4b6a4481b224d01fb7b07b81","modified":1728933412647,"created":1717519069115,"url":"http://localhost:2000/api/v1/rfk/sessao/conectar","name":"Login","description":"## Rota para iniciar sessão\n\n- Rota para fazer login.\n- Rota publica, mas precisa do `token fixo` de segurança.\n- Precisa passar o `CPF` e `Senha` na url\n- url: `http://localhost:2000/api/v1/rfk/sessao/conectar`\n- **Método**: `POST`\n\n\n## Body esperado no request\n```json\n{\n\t\"cpf\": \"04641336105\",\n\t\"senha\": \"senha123\"\n}\n\t\n```\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaWF0IjoxNzI4NDE0Njc3LCJleHAiOjE3Mjg0MzI2NzcsInN1YiI6IjNjM2Y3Mjk3LWM5NDgtNDc2Ni1hZDlkLWI5M2QwMDUwNmE0NSJ9.vUlPsdkG8IB87iv3Y3SB0E-3uFEU_AHkRNnkWekfmwk\",\n\t\"id\": \"3c3f7297-c948-4766-ad9d-b93d00506a45\",\n\t\"cpf\": \"14277984789\",\n\t\"sexo\": \"masculino\",\n\t\"nome\": \"rodrigo\",\n\t\"sobrenome\": \"alves oliveira de lima\",\n\t\"whatsapp\": \"+5567991078373\",\n\t\"cargo\": \"gerente de t.i.\",\n\t\"empresa\": \"refriko cambé\",\n\t\"cod_empresa\": 22,\n\t\"codigo_saib\": 27690,\n\t\"credito\": 600,\n\t\"admin\": true,\n\t\"perfil\": null,\n\t\"usuario_pj\": true\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado algum ou todas as chaves necessárias para o login\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"CPF é obrigatório\",\n\t\t\"Senha é obrigatório\"\n\t]\n}\n```\n\n<hr>\n\n```json\n// CPF ou Senha informado estão incorretos\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF ou senha incorretos\"\n}\n```\n\n<hr>\n\n```json\n// Necessário token Fixo.\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"cpf\": \"14277984789\",\n\t\"senha\": \"123456\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token_fixo }}"},"preRequestScript":"","metaSortKey":-1717615693028,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_935c150e4b6a4481b224d01fb7b07b81","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728923421313,"created":1717519047003,"name":"sessao","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1721655504228.25,"_type":"request_group"},{"_id":"wrk_33a9e1c2cffc405188aec5c392979d30","parentId":null,"modified":1716557757477,"created":1716557757477,"name":"refrikoGole","description":"","scope":"collection","_type":"workspace"},{"_id":"req_3a2d2adeb562422da00ee18e4109f5dc","parentId":"fld_935c150e4b6a4481b224d01fb7b07b81","modified":1728933428975,"created":1717615692928,"url":"http://localhost:2000/api/v1/rfk/sessao/confirma_validade","name":"Validar Token","description":"## Rota para validar token\n\n- Rota para validar token JWT.\n- Rota mas precisa do `Bearer token JWT` de segurança.\n- Objetivo validar se o token de acesso não está expirado.\n\t- Caso esteja, retorna um `401 Unauthorized`.\n- url: `http://localhost:2000/api/v1/rfk/sessao/confirma_validade`\n- **Método**: `GET`\n\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"mensagem\": \"token valido\"\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado o Bearer Token\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passado está expirado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n\n<hr>\n\n```json\n// Token passado é invalido\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n\n\n\n","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1717615692928,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_cca769316e61414aaebe20105445f092","parentId":"fld_935c150e4b6a4481b224d01fb7b07b81","modified":1728933450835,"created":1717675355335,"url":"http://localhost:2000/api/v1/rfk/sessao/renovar_token","name":"Refresh Token","description":"\n> Rota necessita do `Bearer Token`\n> - Valida se o token de refresh não está expirado.\n> - Caso esteja, retorna um `401 Unauthorized Token invalido `.\n> - Caso refreshToken ainda seja valido, retorna um novo token de acesso.\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"id\": \"3c3f7297-c948-4766-ad9d-b93d00506a45\",\n\t\"cpf\": \"14277984789\",\n\t\"sexo\": \"masculino\",\n\t\"nome\": \"rodrigo\",\n\t\"sobrenome\": \"alves oliveira de lima\",\n\t\"whatsapp\": \"+5567991078373\",\n\t\"cargo\": \"gerente de t.i.\",\n\t\"empresa\": \"refriko cambé\",\n\t\"cod_empresa\": 22,\n\t\"codigo_saib\": 27690,\n\t\"credito\": 600,\n\t\"admin\": true,\n\t\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6dHJ1ZSwiaWF0IjoxNzI4NDcyNzYzLCJleHAiOjE3Mjg0OTA3NjMsInN1YiI6IjNjM2Y3Mjk3LWM5NDgtNDc2Ni1hZDlkLWI5M2QwMDUwNmE0NSJ9._-Kfma4OW9GmhmOgjf4kcaDhjKw06fJNW4RUuRMbsdY\",\n\t\"perfil\": null,\n\t\"usuario_pj\": true\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado o Bearer Token\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passado é invalido\nstatus: 403 Forbidden\n{\n  \"mensagem\": \"Token invalido\"\n}\n```\n<hr>\n\n```json\n// Token passado não pertence a nenhum usuario\nstatus: 403 Forbidden\n{\n  \"mensagem\": \"Esse token não pertence a nossa base de dados\"\n}\n```\n\n\n\n\n\n","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1717615685839,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_23b89ce294d948da83c88601545b6f39","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1727987300678,"created":1717420852596,"url":"{{ _.base_url }}/usuario/info_ud/04641336105","name":"Info Usuario","description":"## Buscar Informação de um usuario com base no CPF\n\n- Rota para buscar informações do usuário.\n- Rota publica, mas precisa do `token fixo` de segurança.\n- Precisa passar o `CPF` na url\n- url: `http://localhost:2000/api/v1/rfk/usuario/info_ud/:cpf`\n- **Método**: `GET`\n\n\n## Retorno esperado\n```json\nstatus: 200 Ok\n{\n\t\"dado\": {\n\t\t\"cpf\": \"08848535941\",\n\t\t\"nome\": \"matheus\",\n\t\t\"sobrenome\": \"batista vargas \",\n\t\t\"sexo\": \"masculino\",\n\t\t\"cargo\": \"analista contabil pleno\",\n\t\t\"empresa\": \"refriko cambé\",\n\t\t\"cod_empresa\": 22,\n\t\t\"credito\": 675,\n\t\t\"nome_empresa_senior\": \"REFRIKO - MATRIZ\",\n\t\t\"cnpj_empresa\": \"10656672000103\",\n\t\t\"id_usuario_senior\": 471,\n\t\t\"id_empresa_senior\": 1,\n\t\t\"usuario_pj\": true,\n\t\t\"codigo_saib\": 32561\n\t}\n}\n```\n\n## Possíveis erros\n```json\n// CPF informado menos de 11 caracteres\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com menos de 11 caracteres\"\n}\n```\n\n```json\n// CPF informado com mais de 11 caracteres, pode ser por causa dos pontos e traço.\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com mais de 11 caracteres, digite somente os números\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado não é valido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"CPF inválido\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado é apenas numero repetido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"CPF inválido. Números todos iguais\"\n}\n```\n\n<hr>\n\n\n```json\n// CPF informado não pertence a um funcionario da empresa.\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Não é funcionário do Grupo Refriko, não pode realizar cadastro\"\n}\n```\n\n<hr>\n\n```json\n// TOKEN secreto para acessar a rota não foi enviado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Funcionario não tem tem cadastro dentro da SAIB.\nstatus: 404 Not Found\n{\n\t\"mensagem\": \"Usuario não cadastrado na SAIB, solicitar a recepção pare realizar seu cadastro na empresa 22! Depois tente novamente.\"\n}\n```\n\n<hr>\n\n```json\n// Funcionario está cadastrado com a rota errada e não com a rota de funcionarios pertinente a empresa dele.\nstatus: 404 Not Found\n{\n\t\"mensagem\": \"Está cadastrado na ROTA 504, falar com a recepção para alterar o cadastro da rota para 53\"\n}","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token_fixo }}","disabled":false},"preRequestScript":"","metaSortKey":-1717424374548,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_1a7f467b879344d69ca33fdc7974c020","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728414273185,"created":1717420810209,"name":"usuario","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1721655504225.125,"_type":"request_group"},{"_id":"req_c7d33091377f4500acaffe33f479a0f2","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933278682,"created":1717424374448,"url":"http://localhost:2000/api/v1/rfk/usuario/gerar_acesso_unico","name":"Cadastrar Usuario","description":"\n- Rota para cadastro de novos usuários.\n- Rota publica, mas precisa do `token fixo` de segurança.\n- Precisa passar um body em JSON.\n- url: `http://localhost:2000/api/v1/rfk/usuario/gerar_acesso_unico`\n- **Método**: `POST`\n\n### Body necessário: \n```json\n{\n\t\"cpf\": \"04041434508\",\n\t\"nome\": \"teste\",\n\t\"sobrenome\": \"teste\",\n\t\"sexo\": \"masculino\",\n\t\"empresa\": \"refriko cambé\",\n\t\"cargo\": \"teste\",\n\t\"whatsapp\": \"+5511999995846\",\n\t\"cod_empresa\": 123,\n\t\"credito\": 400,\n\t\"codigo_saib\": 200,\n\t\"senha\": 123456897,\n\t\"confirma_senha\": 123456897,\n\t\"nome_empresa_senior\": \"refiko industria de bebidas ltda\",\n\t\"id_empresa_senior\": 2,\n\t\"cnpj_empresa\": \"544582440000176\",\n\t\"id_usuario_senior\": 543 ,\n\t\"usuario_pj\": true\n}\n\t\n```\n\n## Retorno esperado\n\n```json\nstatus: 201 created\n{\n\t\"mensagem\": \"Cadastro realizado\",\n\t\"criado\": true\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado algum ou todas as chaves necessárias para o cadastro\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"sobrenome:  é obrigatório\",\n\t\t\"nome: é obrigatório\",\n\t\t\"sexo: é obrigatório\",\n\t\t\"cargo: é obrigatório\",\n\t\t\"whatsapp: é obrigatório\",\n\t\t\"cod_empresa:  é obrigatório\",\n\t\t\"empresa: é obrigatório\",\n\t\t\"credito:  é obrigatório\",\n\t\t\"codigo_saib: é obrigatório\",\n\t\t\"confirma_senha: é obrigatória\",\n\t\t\"senha: é obrigatória\",\n\t\t\"nome_empresa: é obrigatório\",\n\t\t\"id_empresa_senior: é obrigatório\",\n\t\t\"cnpj_empresa:  é obrigatório\",\n\t\t\"id_usuario_senior: é obrigatório\",\n\t\t\"usuario_pj: é obrigatório\"\n\t]\n}\n```\n\n<hr>\n\n```json\n// Ao tentar cadastar um novo usuario com um CPF que já está cadastrado\nstatus: 400 Bad Request\n{ \n\tmensagem: \"CPF já cadastrado.\"\n}\n```\n\n<hr>\n\n```json\n// Aceito somente masculino ou feminino, com caracteres minusculo\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"Sexo inválido\"\n\t]\n}\n```\n\n\n```json\n// CPF não informado\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Informar o CPF\"\n}\n```\n\n```json\n// CPF informado menos de 11 caracteres\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com menos de 11 caracteres\"\n}\n```\n\n```json\n// CPF informado com mais de 11 caracteres, pode ser por causa dos pontos e traço.\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com mais de 11 caracteres, digite somente os números\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado não é valido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"CPF inválido\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado é apenas numero repetido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"CPF inválido. Números todos iguais\"\n}\n```\n<hr>\n\n\n\n```json\n// TOKEN secreto para acessar a rota não foi enviado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Erro no nivel do banco de dados supabase. Ele espera receber um desses valores na coluna empresa.\nstatus: 500 Internal Server\n{\n\t\"mensagem\": \"Erro interno supabse:Empresa inválida. Deve ser uma das seguintes: refriko campo grande, refriko cambe, refriko curitiba, refriko cascavel, refriko dourados' | null\"\n}\n```\n<hr>\n\n\n","method":"POST","body":{"mimeType":"application/json","text":""},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token_fixo }}"},"preRequestScript":"","metaSortKey":-1717424374448,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_4f488841e55f447f934a3ceaf96ce4be","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728322042729,"created":1718040782063,"url":"http://localhost:2000/api/v1/rfk/usuario/chave_acesso/solicitar_recuperacao","name":"Recuperacao Senha - Solicitar","description":"- Rota para solicitar recuperação de senha.\n- Rota publica, mas precisa do `token fixo` de segurança.\n- Precisa passar um body em JSON com o cpf.\n- url: `http://localhost:2000/api/v1/rfk/usuario/chave_acesso/solicitar_recuperacao`\n- **Método**: `POST`\n\n\n### Body necessário: \n```json\n{\n\t\"cpf\": \"04025168105\"\n}\n```\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"mensagem\": \"Enviamos um código de verificação de 5 dígitos para o seu WhatsApp\"\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado a chave necessária\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Informar o CPF\"\n}\n```\n\n<hr>\n\n```json\n// CPF passado incorretamente\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF tem menos de 11 caracteres\"\n}\n```\n\n<hr>\n\n```json\n// CPF passado incorretamente\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com mais de 11 caracteres, digite somente os números\"\n}\n```\n\n\n```json\n// CPF passado incorretamente\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"CPF inválido. Números todos iguais\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado é apenas numero repetido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Atenção!! Número do CPF inválido\"\n}\n```\n\n<hr>\n\n```json\n// Precisa passar o Token fixo\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// CPF informado não está cadastrado\nstatus: 404 Not Found\n{\n\t\"mensagem\": \"CPF não pertence a nenhuma usuario cadastrado na nossa base de dados\"\n}\n```\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"cpf\": \"09054106964\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token_fixo }}"},"preRequestScript":"","metaSortKey":-1717422613522,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_ad3e81b5d4794f2ca3270aeed9806e36","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933319809,"created":1718048817235,"url":"http://localhost:2000/api/v1/rfk/usuario/chave_acesso/solicitar_validacao","name":"Recuperacao Senha - Validar Token","description":"- Rota para validar o token da recuperação de senha.\n- Rota publica, mas precisa do `token fixo` de segurança.\n- Precisa passar um body em JSON com o cpf e o token.\n- url: `http://localhost:2000/api/v1/rfk/usuario/chave_acesso/solicitar_validacao`\n- **Método**: `POST`\n\n### Body necessário: \n```json\n{\n\t\"cpf\": \"04025168105\",\n\t\"token\": \"58963\"\n}\n```\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"mensagem\": \"token valido\",\n\t\"token\": \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6ZmFsc2UsImlhdCI6MTcxODExNTk1MCwiZXhwIjoxNzE4MTE3MTUwLCJzdWIiOiI4Yzk5MGFmZC1jMTcyLTRkYzEtYjUwYi0yZTczYTI5OTA1MmQifQ.ZeAbcxHvRtC_ukU-u_lz3Ti5-zsB01zYeDSFmDEgQKQ\"\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado as chaves necessária\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"CPF: é obrigatório\",\n\t\t\"token: é obrigatório\"\n\t]\n}\n```\n\n<hr>\n\n```json\n// CPF passado incorretamente\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF tem menos de 11 caracteres\"\n}\n```\n\n<hr>\n\n```json\n// CPF passado incorretamente\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"CPF com mais de 11 caracteres, digite somente os números\"\n}\n```\n\n\n```json\n// Token incorreto\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Token inserido é ínvalido, com menos de 5 caracteres\"\n}\n```\n\n<hr>\n\n```json\n// Token incorreto\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Token ínvalido, no máximo 5 caracteres\"\n}\n```\n\n<hr>\n\n```json\n// Token invalido, não é o mesmo salvo no banco.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Invalido\"\n}\n```\n\n<hr>\n\n```json\n// Expirado o tempo do token.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Código Expirado, solicite um novo\"\n}\n```\n<hr>\n\n```json\n// Necessário enviar o token fixo\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"cpf\": \"04641336105\",\n\t\"token\": \"49299\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{},"preRequestScript":"","metaSortKey":-1717421733059,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_af9a0a1061954ac6ba1721b011671184","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933344405,"created":1718113562671,"url":"http://localhost:2000/api/v1/rfk/usuario/chave_acesso/reiniciar_acesso","name":"Recuperacao Senha - Atualizar","description":"- Rota para atualizar a senha do usuario, depois de validar o token da recuperação de senha.\n- Precisa passar um body em JSON com as senhas.\n- url: `http://localhost:2000/api/v1/rfk/usuario/chave_acesso/reiniciar_acesso`\n- Precisa de `token`\n- **Método**: `POST`\n\n### Body necessário: \n\n\n```json\n{\n\t\"senha\": \"123456\",\n\t\"confirma_senha\": \"123456\"\n}\n```\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"mensagem\": \"Senha atualizada com sucesso\"\n}\n```\n\n## Possíveis erros\n```json\n// Não foi passado as chaves necessária\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"confirma_senha: é obrigatória\",\n\t\t\"senha: é obrigatório\"\n\t]\n}\n```\n\n<hr>\n\n```json\n// Necessário passar um token\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passsado incorreto\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n\n<hr>\n\n```json\n// Expirado o tempo do token.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"senha\": \"1234567\",\n\t\"confirma_senha\": \"1234567\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJhZG1pbiI6ZmFsc2UsImlhdCI6MTcxODExNTk1MCwiZXhwIjoxNzE4MTE3MTUwLCJzdWIiOiI4Yzk5MGFmZC1jMTcyLTRkYzEtYjUwYi0yZTczYTI5OTA1MmQifQ.ZeAbcxHvRtC_ukU-u_lz3Ti5-zsB01zYeDSFmDEgQKQ"},"preRequestScript":"","metaSortKey":-1717421292827.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e4601e27115a4098a7c84f3fe69deb38","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933361116,"created":1718366663710,"url":"http://localhost:2000/api/v1/rfk/usuario/modificar/3f62c14d-72f0-4d17-89b9-b226b993867b","name":"Atualizar Usuario","description":"\n- Rota para atualizar usuário.\n- Precisa de `token` JWT.\n- Preicsa passar o ID do usuario na url.\n- Precisa passar um body em JSON.\n- Admin ou o próprio usuario pode usar essa rota\n- url: `http://localhost:2000/api/v1/rfk/usuario/modificar/{uuid}`\n- **Método**: `PATCH`\n\n### Body necessário: \n```json\n{\n\t\"nome\": \"Carlos\",\n\t\"sobrenome\": \"Silva\",\n\t\"sexo\": \"masculino\",\n\t\"whatsapp\":\"+5511985643602\",\n\t\"senha\": \"123456\",\n\t\"confirma_senha\": \"123456\"\n}\n```\n\n## Retorno esperado\n\n```json\nstatus: 200 ok\n{\n\t\"mensagem\": \"usuário atualizado\",\n\t\"usuario\": {\n\t\t\"id\": \"3f62c14d-72f0-4d17-89b9-b226b993867b\",\n\t\t\"nome\": \"Rodrigo\",\n\t\t\"sobrenome\": \"Roberto\",\n\t\t\"sexo\": \"masculino\",\n\t\t\"cpf\": \"04641336105\",\n\t\t\"whatsapp\": \"+5567991078373\",\n\t\t\"admin\": false,\n\t\t\"cargo\": \"motorista\",\n\t\t\"cod_empresa\": 2,\n\t\t\"codigo_saib\": 124,\n\t\t\"credito\": 600,\n\t\t\"empresa\": \"refriko cambé\",\n\t\t\"perfil\": null,\n\t\t\"usuario_pj\": false\n\t}\n}\n```\n\n## Possíveis erros\n```json\n// ID passado incorreto\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"ID inexistente | Dados do usuário não foram encontrados\"\n}\n```\n\n<hr>\n\n```json\n// Necessário passar um token\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passsado incorreto\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n\n```json\n// Token expirado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n<hr>\n\n```json\n// Id passado não é referente ao usuario que está tentando atualizar a rota e este não é admin\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Apenas Administradores podem alterar dados de outros usuários\"\n}\n```\n\n\n\n\n\n\n\n","method":"PATCH","body":{"mimeType":"application/json","text":"{\n\t\"senha\": \"12345\",\n\t\"confirma_senha\": \"12345\",\n\t\"nome\": \"Rodrigo\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1717421292777.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_e022327503f247e8b20d2178685ef459","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933378808,"created":1725989482847,"url":"http://localhost:2000/api/v1/rfk/usuario/remover_entrada/3f62c14d-72f0-4d17-89b9-b226b993867b","name":"Deletar Usuario","description":"\n- Rota para desativar usuário.\n- Precisa de `token` JWT.\n- Preicsa passar o ID do usuario na url.\n- Admin ou o próprio usuario pode usar essa rota\n- url: `http://localhost:2000/api/v1/rfk/usuario/remover_entrada/{uuid}`\n- **Método**: `DELETE`\n\n\n## Retorno esperado\n\n```json\nstatus: 204 No Content\n{}\n```\n\n## Possíveis erros\n```json\n// ID passado incorreto\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"ID inexistente | Dados do usuário não foram encontrados\"\n}\n```\n\n<hr>\n\n```json\n// Necessário passar um token\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passsado incorreto\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n\n```json\n// Token expirado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n<hr>\n\n```json\n// Id passado não é referente ao usuario que está tentando atualizar a rota e este não é admin\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Apenas Administradores podem alterar dados de outros usuários\"\n}\n```\n\n\n\n\n\n\n\n","method":"DELETE","body":{"mimeType":"application/json","text":"{\n\t\"senha\": \"12345\",\n\t\"confirma_senha\": \"12345\",\n\t\"nome\": \"Rodrigo\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1717421292727.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_39964070ac18433fabefd874a3f22f07","parentId":"fld_1a7f467b879344d69ca33fdc7974c020","modified":1728933394179,"created":1726493701111,"url":"http://localhost:2000/api/v1/rfk/usuario/notificar_avs","name":"notificar Usuarios","description":"\n- Rota para notificar usuários para retirada dos produtos.\n- Precisa de `token` JWT.\n- Preicsa passar o ID do usuario na url.\n- Admin, conferente ou Rh usar essa rota\n- url: `http://localhost:2000/api/v1/rfk/usuario/notificar_avs`\n- **Método**: `GET`\n\n## Retorno Esperado\n```json\nstatus: 200 Ok\n{\n\t\"mensagem\": \"Foram notificados 3 usúarios\"\n}\n```\n\n\n## Possíveis erros\n\n\n<hr>\n\n```json\n// Necessário passar um token\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Token passsado incorreto\nstatus: 403 Forbiden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n\n```json\n// Token expirado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n\n```json\n// Não tem pedido para ser liberado para entrega.\nstatus: 404 Not Found\n{\n\t\"mensagem\": \"Nenhum pedido encontrado, nenhum usúario foi notificado\"\n}\n```\n\n\n","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/10.0.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"metaSortKey":-1717421292627.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_338f1a1e288242b18e8e265244477e2c","parentId":"fld_d2db9b242bf64da882e34d2e4d0c8fb2","modified":1728933190605,"created":1718885749461,"url":"http://localhost:2000/api/v1/rfk/item/consulta/32768","name":"Info Produto","description":"### Buscar Informação de um produto com base no codigo dele\n\n- Rota precisa de token, e precisa ser admin ou ter o perfil de gestao para acessar a rota.\n- Precisa passar na url o cod do produto na saib\n- url: `http://localhost:2000/api/v1/rfk/item/consulta/{cod_produto}`\n\n\n## Retorno esperado\n```json\nstatus: 200 Ok\n{\n\t\"cod\": 32768,\n\t\"nome\": \"Furioso Maça Verde Lata 269ml\",\n\t\"id_categoria\": 3,\n\t\"categoria\": \"Energético\",\n\t\"litragem\": 269,\n\t\"fd_cx\": \"Fd c/6\",\n\t\"sub_categoria\": \"Energetico\",\n\t\"empresas\": [\n\t\t{\n\t\t\t\"cod_emp\": 43,\n\t\t\t\"data_valida\": true,\n\t\t\t\"valor\": 17.22,\n\t\t\t\"nome\": \"Dourado/MS\"\n\t\t},\n\t\t{\n\t\t\t\"cod_emp\": 6,\n\t\t\t\"data_valida\": true,\n\t\t\t\"valor\": 17.7,\n\t\t\t\"nome\": \"Curitiba/PR\"\n\t\t},\n\t\t{\n\t\t\t\"cod_emp\": 26,\n\t\t\t\"data_valida\": true,\n\t\t\t\"valor\": 17.7,\n\t\t\t\"nome\": \"Cascavel/PR\"\n\t\t},\n\t\t{\n\t\t\t\"cod_emp\": 42,\n\t\t\t\"data_valida\": true,\n\t\t\t\"valor\": 17.22,\n\t\t\t\"nome\": \"Campo Grande/MS\"\n\t\t},\n\t\t{\n\t\t\t\"cod_emp\": 2,\n\t\t\t\"data_valida\": true,\n\t\t\t\"valor\": 17.7,\n\t\t\t\"nome\": \"Cambé/PR\"\n\t\t}\n\t]\n}\n```\n\n## Possíveis erros\n```json\n// Produto já cadastrado.\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Produto já cadastrado\"\n}\n```\n<hr>\n\n```json\n// Token vencido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n<hr>\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"message\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Acesso negado, não tem o perfil correto ou não é admin.\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Acesso negado: permissão insuficiente.\"\n}\n```\n\n<hr>\n\n\n```json\n// Data de vigencia do produto é menor ou = a data de validade.\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Produto com vigência vencida\"\n}\n```\n\n<hr>\n\n```json\n// Codigo está incorreto ou não está liberado para funcionario.\nstatus: 404 Not Found\n{\n\t\"mensagem\": \"Produto não existe ou não é liberado para cadastro para venda as colaborades\"\n}\n```\n\n","method":"GET","body":{},"parameters":[],"headers":[{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1718885749461,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_d2db9b242bf64da882e34d2e4d0c8fb2","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728479062725,"created":1718885691224,"name":"produto","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1721655504223.5625,"_type":"request_group"},{"_id":"req_a5a654035cb24d4fbf4f3caf0fdc8005","parentId":"fld_d2db9b242bf64da882e34d2e4d0c8fb2","modified":1728933219235,"created":1719263731021,"url":"http://localhost:2000/api/v1/rfk/item/atualizar_prod/2","name":"Atualizar Produto","description":"### Buscar atualização do produto na saib e atualizar alguns dados\n<hr>\n\n- Rota precisa de token, e precisa ser admin ou ter o perfil de gestao para acessar a rota.\n- Precisa passar na url o cod do produto na saib.\n- Caso não envie algum das chaves/valores no body da requisição, irá manter o que já existe no banco de dados.\n- As informações que podem ser mandadas via `body request` , são as únicas que podem ser alteradas, demais informações são obtidas no ERP da empresa.\n- url: `http://localhost:2000/api/v1/rfk/item/atualizar_prod/{cod_produto}`\n\n```json\n{\n\tnome: \"refriko guarana 2lt\",\n\n\tteor_alcoolico: \"N/A\",\n\tpais_fabricacao: \"Brasil\",\n\turlFoto: \"https://jlheurasaepqstmtwpjf.supabase.co/storage/v1/object/public/produtos/foto/1721394795614000.webp\"\n}\n```\n\n## Retorno esperado\n```json\nstatus: 200 Ok\n{\n\t\"mensagem\": \"Produto Atualizado com sucesso\"\n}\n```\n\n## Possíveis erros\n```json\n// Produto não cadastrado.\nstatus: 400 Bad Request\n{\n\t\"mensagem\": \"Produto não está cadastrado\".\n}\n```\n\n<hr>\n\n```json\n// Token vencido.\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n<hr>\n\n```json\n// Token invalido.\nstatus: 403 Unauthorized\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n<hr>\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n<hr>\n\n```json\n// Não tem acesso, sem perfil ou não é admin\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Acesso negado: permissão insuficiente.\"\n}\n```\n\n\n\n\n\n\n\n\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"nome\": \"Refriko Tubaina 3l\",\n\t\"rotulo\": \"Tubaína Refriko. Este refrigerante traz o sabor nostálgico que todos amam. Ideal para ser consumido bem gelado, é perfeito para acompanhar refeições ou para uma pausa refrescante durante o dia.\",\n\t\"teor_alcoolico\": \"N/A\",\n\t\"pais_fabricacao\": \"Brasil\",\n\t\"urlFoto\": \"https://jlheurasaepqstmtwpjf.supabase.co/storage/v1/object/public/produtos/foto/1721071032740000.webp\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.2.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"preRequestScript":"","metaSortKey":-1718250721194.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_ae5794d6d46049c08fed694386529b26","parentId":"fld_50b53072dc62410998f6cdf5b6ad4072","modified":1728932705335,"created":1721658165721,"url":"http://localhost:2000/api/v1/rfk/ordem/criar_pedido_saib","name":"criar Pedido","description":"## Rota para inserir os pedidos no SAIB\n- Rota buscará os pedidos do app e irá gravar na SAIB para gerar o faturamento.\n- Rota precisa pasasr um body json.\n- Rota precisa estar autenticado, ou seja, passar o `tokenJWt` de segurança.\n- Apenas Admin, e alguns perfils (`rh`, `gestao`, `faturamento`) podem ter acesso a essa rota. \n- url: `http://localhost:2000/api/v1/rfk/ordem/criar_pedido_saib`\n- **Método**: `POST`\n\n## Body Esperado\n\n```json\n{\n  \"dataInicio\": \"2024-07-19 12:34:09.713096+00\",\n  \"dataFim\": \"2024-07-22 00:34:09+00\",\n\t\"cod_empresa\": 22\n}\n```\n\n## Retorno esperado 200 ou 201\n```json\n// Esse retorno é quando nas data passadas não tem pedidos a serem inseridos no saib\nstatus: 200 Ok\n{\n\t\"mensagem\": \"Não tem pedidos para serem gerados no período selecionado\"\n}\n```\n\n```json\n// Pedidos criados\nstatus: 201 Created\n{\n\t\"quantidade\": 1,\n\t\"pedidos\": [\n\t\t{\n\t\t\t\"cod_saib\": 27690,\n\t\t\t\"nome\": \"Rodrigo Alves Oliveira De Lima\",\n\t\t\t\"pedido_app\": 92,\n\t\t\t\"pedido_saib\": 90000092\n\t\t}\n\t]\n}\n```\n\n## Possíveis Erros\n```json\n// Está faltando a chave informado no erro\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"dataInicio: É obrigatório, ex: 25/06/2024\",\n\t\t\"dataFim: É obrigatório, ex: 25/06/2024\",\n\t\t\"cod_empresa: Código da empresa é obrigatório\",\n\t\t\"uuidUsuario: precisa psassar o id do usuario\"\n\t]\n}\n```\n\n```json\n// Token não informado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n```json\n// Não tem acesso, sem perfil ou não é admin\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Acesso negado: permissão insuficiente.\"\n}\n```\n","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"dataInicio\": \"2024-10-14 12:34:09.713096+00\",\n  \"dataFim\": \"2024-10-15 00:34:09+00\",\n\t\"cod_empresa\": 2,\n\t\"uuidUsuario\": \"3c3f7297-c948-4766-ad9d-b93d00506a45\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.3.2"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"metaSortKey":-1727113542772,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_50b53072dc62410998f6cdf5b6ad4072","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728503729773,"created":1721655504222,"name":"pedido","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1721655504223.1719,"_type":"request_group"},{"_id":"req_09e321525f0e43ec818a42e4a3965858","parentId":"fld_50b53072dc62410998f6cdf5b6ad4072","modified":1728938618316,"created":1722019304679,"url":"http://localhost:2000/api/v1/rfk/ordem/enviar_comprovante","name":"enviarComprovante","description":"## Rota para enviar comprovante do pedido no Whatsapp\n- Rota com objetivo de enviar um resumo/comprovante do pedido feito pelo usuário no whatsapp\n- Rota precisa passar um body json.\n- Rota publica, mas precisa do `tokenFixo`. \n- url: `http://localhost:2000/api/v1/rfk/ordem/enviar_comprovante`\n- **Método**: `POST`\n\n## Body Esperado\n\n```json\n{\n\t\"whatsapp\": \"+5511992048877\",\n\t\"idPedido\": 45,\n\t\"valorPedido\": 39.96,\n\t\"produtos\": [\n\t\t{\n\t\t\t\"nome_produto\": \"Refriko Uva 2lt\",\n\t\t\t\"qtd\": 1,\n\t\t\t\"valor_uni\": 19.98,\n\t\t\t\"valor_total\": 19.98\n\t\t},\n\t\t{\n\t\t\t\"nome_produto\": \"Refriko Limao 2lt\",\n\t\t\t\"qtd\": 1,\n\t\t\t\"valor_uni\": 19.98,\n\t\t\t\"valor_total\": 19.98\n\t\t}\n\t],\n\t\"usuario\": \"Carlos Silva\",\n\t\"dataFaturamento\": \n}\n```\n\n## Retorno esperado 200 \n```json\n// Mensagem enviada\nstatus: 200 Ok\n{\n\t\"mensagem\": \"Comprovante enviado\"\n}\n```\n\n\n## Possíveis Erros\n```json\n// Está faltando a chave informado no erro\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"whatsapp é obrigatório\",\n\t\t\"idPedido é obrigatório\",\n\t\t\"valorPedido é obrigatório\",\n\t\t\"produtos é obrigatório\",\n\t\t\"usuario: Nome do usuario está cadastrado\",\n\t\t\"dataFaturamento: data prevista do faturamento é obrigatório\"\n\t]\n}\n```\n\n```json\n// Token não informado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"whatsapp\": \"+5567991078373\",\n\t\"idPedido\": 45,\n\t\"valorPedido\": 39.96,\n\t\"produtos\": [\n\t\t{\n\t\t\t\"nome_produto\": \"Refriko Uva 2lt\",\n\t\t\t\"qtd\": 1,\n\t\t\t\"valor_uni\": 19.98,\n\t\t\t\"valor_total\": 19.98\n\t\t},\n\t\t{\n\t\t\t\"nome_produto\": \"Refriko Limao 2lt\",\n\t\t\t\"qtd\": 1,\n\t\t\t\"valor_uni\": 19.98,\n\t\t\t\"valor_total\": 19.98\n\t\t}\n\t],\n\t\"usuario\": \"Thiago Silva\"\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/9.3.2"}],"authentication":{"type":"bearer","token":"{{ _.token_fixo }}"},"metaSortKey":-1721656835021.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_b392fcbc4132416d8b0153deaa534375","parentId":"fld_50b53072dc62410998f6cdf5b6ad4072","modified":1728939227398,"created":1727113542672,"url":"http://localhost:2000/api/v1/rfk/ordem/download_relatorio","name":"download relatorio","description":"## Rota para enviar comprovante do pedido no Whatsapp\n- Rota com objetivo de extrair um relatório em excel dos pedidos finalizados\n- Rota precisa passar um body json.\n- Rota precisa estar autenticado, passar um `tokenJwt` e ter o perfil de `rh`. \n- url: `http://localhost:2000/api/v1/rfk/ordem/download_relatorio`\n- **Método**: `POST`\n\n## Body Esperado\n\n```json\n{\n\t\"dataInicio\":\"2024-09-02\",\n\t\"dataFim\": \"2024-09-23\",\n\t\"cod_empresa\": 2\n}\n```\n\n## Retorno esperado 200\n```json\n// Mensagem enviada, file data é o arquivo excel em base64\nstatus: 200 Ok\n{\n\t\"fileData\": \"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\",\n\t\"fileName\": \"relatorio.xlsx\",\n\t\"mimeType\": \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\n}\n```\n\n\n## Possíveis Erros\n```json\n// Está faltando a chave informado no erro\nstatus: 400 Bad Request\n{\n\t\"mensagem\": [\n\t\t\"dataInicio: É obrigatório, ex: 25/06/2024\",\n\t\t\"dataFim: É obrigatório, ex: 25/06/2024\",\n\t\t\"cod_empresa: Código da empresa é obrigatório\"\n\t]\n}\n```\n\n```json\n// Token não informado\nstatus: 401 Unauthorized\n{\n\t\"mensagem\": \"Token Expirado\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Necessário um token de acesso\"\n}\n```\n\n```json\n// Token não informado\nstatus: 403 Forbidden\n{\n\t\"mensagem\": \"Token invalido\"\n}\n```\n\n```json\n// Acesso negado, não tem o perfil necessário e não é admin\nstatus: 403 Forbidden\n{\n\t\t\"mensagem\": \"Acesso negado: permissão insuficiente.\"\n}\n```\n","method":"POST","body":{"mimeType":"application/json","text":"{\n\t\"dataInicio\":\"2024-09-02\",\n\t\"dataFim\": \"2024-09-23\",\n\t\"cod_empresa\": 22\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"name":"User-Agent","value":"insomnia/10.0.0"}],"authentication":{"type":"bearer","token":"{{ _.token }}"},"metaSortKey":-1721656834921.5,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"req_2e78e00c82b242b19f7bd5f883c15764","parentId":"fld_6ba54ca7c15b451cae3f67cfaa099ab1","modified":1728506737457,"created":1717780250842,"url":" https://api.kompleto.com.br/v3/bot/6Sn77B58DA2A9MLDc8SZGwTm/sendtext","name":"enviarMensagem","description":"## API para envio de mensagem no WhatsApp\n- Precisa passar um body json\n- url: `https://api.kompleto.com.br/v3/bot/6Sn77B58DA2A9MLDc8SZGwTm/sendtext`\n\n### Body Esperado\n```json\n{\n  \"chatid\": \"+5541995235866\",\n  \"text\": \"vai brasil\",\n  \"inreply\": null\n}\n```\n- **_chatid_**: É o número do whatsapp, precisar passar com + 55, seguido pelo dd e o número.\n- **_chatid_**: A mensagem que você quer enviar.\n- **_inreply_**: manter null.\n\n### Retorno Esperado\n\n```json\n{\n\t\"success\": true,\n\t\"status\": \"sended with success\",\n\t\"message\": {\n\t\t\"id\": \"3EB0621E205DBA3DE570C9\",\n\t\t\"wid\": \"554391790573:6@s.whatsapp.net\",\n\t\t\"chatId\": \"556791078373@s.whatsapp.net\"\n\t}\n}\n```","method":"POST","body":{"mimeType":"application/json","text":"{\n  \"chatid\": \"+5541995235866\",\n  \"text\": \"vai brasil\",\n  \"inreply\": null\n}"},"parameters":[],"headers":[{"name":"Content-Type","value":"application/json"},{"id":"pair_9d186d12c5c84f088ff353f35b71f915","name":"","value":"","description":""}],"authentication":{"type":"bearer","token":"","disabled":true},"preRequestScript":"","metaSortKey":-1728503692523,"isPrivate":false,"pathParameters":[],"settingStoreCookies":true,"settingSendCookies":true,"settingDisableRenderRequestBody":false,"settingEncodeUrl":true,"settingRebuildPath":true,"settingFollowRedirects":"global","_type":"request"},{"_id":"fld_6ba54ca7c15b451cae3f67cfaa099ab1","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728503727334,"created":1728503686924,"name":"Whatsapp","description":"","environment":{},"environmentPropertyOrder":null,"metaSortKey":-1721655504222.7812,"_type":"request_group"},{"_id":"env_05c41116f3021ea80f9916476c767379d4ac3fea","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1728939271469,"created":1716557757484,"name":"Base Environment","data":{"base_url":"http://{{ _.dominio }}/api/{{ _.versao }}/rfk","versao":"v1","dominio":"localhost:2000","token":"{% response 'body', 'req_584198f38a234d4db17bc6cda8ade7ba', 'b64::JC50b2tlbg==::46b', 'never', 60 %}","token_fixo":""},"dataPropertyOrder":{"&":["base_url","versao","dominio","token","token_fixo"]},"color":null,"isPrivate":false,"metaSortKey":1716557757484,"_type":"environment"},{"_id":"jar_05c41116f3021ea80f9916476c767379d4ac3fea","parentId":"wrk_33a9e1c2cffc405188aec5c392979d30","modified":1716557757495,"created":1716557757495,"name":"Default Jar","cookies":[],"_type":"cookie_jar"}]}